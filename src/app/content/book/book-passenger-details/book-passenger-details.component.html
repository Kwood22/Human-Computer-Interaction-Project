<div class="card home-card">
  <div class="card-body">
    <!--Cart-->
    <div class="row mx-2 my-3">
      <div class="col-md-4 order-md-2 mb-4">
        <h4 class="d-flex justify-content-between align-items-center mb-3">
          <span class="text-muted">
            <i class="fas fa-shopping-cart mr-1"></i>Your cart</span>
        </h4>
        <ul class="list-group mb-3">
          <li class="list-group-item d-flex justify-content-between lh-condensed">
            <div>
              <h6 class="my-0">{{bookingInfo.from}} <span class="badge badge-secondary badge-pill pl-2 ml-3 " ><i class="fas fa-ticket-alt mr-1"></i>{{numPassengers}}</span></h6>
              <small class="text-muted">{{bookingInfo.to}} </small><br>
              <small class="text-muted">{{bookingInfo.dateDepart}}</small><br>
            </div>
            <span class="text-muted">R{{bookingInfo.departFlight.price}}<br><small>(Inc 15% VAT)</small></span>
          </li>
          <li class="list-group-item d-flex justify-content-between lh-condensed" *ngIf="bookingInfo.oneWay ==0">
            <div>
              <h6 class="my-0">{{bookingInfo.to}} <span class="badge badge-secondary badge-pill  pl-2 ml-3 " ><i class="fas fa-ticket-alt mr-1"></i>{{numPassengers}}</span></h6>
              <small class="text-muted">{{bookingInfo.from}}</small><br>
              <small class="text-muted">{{bookingInfo.dateReturn}}</small><br>
            </div>
            <span class="text-muted">R{{bookingInfo.returnFlight.price}}<br><small>(Inc 15% VAT)</small></span>
          </li>
          

          <li class="list-group-item d-flex justify-content-between">
            <span>Total </span>
            <strong>R{{bookingInfo.totalCost}}</strong>
          </li>
        </ul>



        <h4 class="d-flex justify-content-between align-items-center mb-3">
          <span class="text-muted">
            <i class="fas fa-tasks mr-1"></i>Terms and conditions</span>
        </h4>
        <ul class="list-group mb-3">
          <!--  Please note that not all aircraft are equipped with lavatory facilities Online Check-in available 48 hours before departure and closes strictly 1 hour before departure-->
          <li class="list-group-item d-flex justify-content-between lh-condensed" href="#rule5" role="button" aria-expanded="false"
            aria-controls="rule5" data-toggle="collapse">
            <div>
              <h6 class="my-0">Check-in counters</h6>
              <small class="text-muted collapse" id="rule5">Check-in counters open 90 minutes before the flight and close strictly 45 minutes before the flight</small>
            </div>
            <span class="text-muted">
              <i class="fas fa-angle-down "></i>
            </span>
          </li>
          <li class="list-group-item d-flex justify-content-between lh-condensed" href="#rule6" role="button" aria-expanded="false"
            aria-controls="rule6" data-toggle="collapse">
            <div>
              <h6 class="my-0">Flight Baggage Allowance</h6>
              <small class="text-muted collapse" id="rule6">Total allowance of 21 kilograms:
                <ul class="text-left">
                  <li>15 kilograms checked luggage</li>
                  <li>6 kilos hand luggage</li>
                </ul>
              </small>

            </div>
            <span class="text-muted">
              <i class="fas fa-angle-down "></i>
            </span>
          </li>
          <li class="list-group-item d-flex justify-content-between lh-condensed" href="#rule7" role="button" aria-expanded="false"
            aria-controls="rule7" data-toggle="collapse">
            <div>
              <h6 class="my-0">Online Check-in</h6>
              <small class="text-muted collapse" id="rule7">Online Check-in available 48 hours before departure and closes strictly 1 hour before departure</small>
            </div>
            <span class="text-muted">
              <i class="fas fa-angle-down "></i>
            </span>
          </li>
          <li class="list-group-item d-flex justify-content-between lh-condensed" href="#rule8" role="button" aria-expanded="false"
            aria-controls="rule8" data-toggle="collapse">
            <div>
              <h6 class="my-0">Aircraft Facilities</h6>
              <small class="text-muted collapse" id="rule8">Please note that not all aircraft are equipped with lavatory facilities, all flights are non-smoking and passengers
                caught smoking will be prosecuted</small>
            </div>
            <span class="text-muted">
              <i class="fas fa-angle-down "></i>
            </span>
          </li>



          <li class="list-group-item d-flex justify-content-between lh-condensed" href="#rule1" role="button" aria-expanded="false"
            aria-controls="rule1" data-toggle="collapse">
            <div>
              <h6 class="my-0">Re-booking Policy</h6>
              <small class="text-muted collapse" id="rule1">CemAir offers a flexible re-booking facility up to 24 hours prior to your flight departure where you may transfer
                the full value of your fare paid to an alternate date subject to a rebooking fee per person per sector. If
                the same booking class is not available, you will also have to pay in any difference in airfare. </small>
            </div>
            <span class="text-muted">
              <i class="fas fa-angle-down "></i>
            </span>
          </li>
          <li class="list-group-item d-flex justify-content-between lh-condensed" href="#rule2" role="button" aria-expanded="false"
            aria-controls="rule2" data-toggle="collapse">
            <div>
              <h6 class="my-0">Change of booking fees</h6>
              <small class="text-muted collapse" id="rule2">In addition to the difference in cost between the existing flight fare and the new flight fare the fees for
                changing a booking are as follows:
                <ul class="text-left">
                  <li>Up to 24 hours prior to departure – R280 per person per sector</li>
                  <li>Less than 24 hours prior to departure – R600 per person per sector</li>
                </ul>
              </small>

            </div>
            <span class="text-muted">
              <i class="fas fa-angle-down "></i>
            </span>
          </li>
          <li class="list-group-item d-flex justify-content-between lh-condensed" href="#rule3" role="button" aria-expanded="false"
            aria-controls="rule3" data-toggle="collapse">
            <div>
              <h6 class="my-0">Cancellation Fees</h6>
              <small class="text-muted collapse" id="rule3">
                <ul class="text-left">
                  <li>Up to 24 hours prior to departure – R500 per person per sector</li>
                  <li>Less than 24 hours prior to departure – R1200 per person per sector</li>
                </ul>
              </small>
            </div>
            <span class="text-muted">
              <i class="fas fa-angle-down "></i>
            </span>
          </li>

          <li class="list-group-item d-flex justify-content-between lh-condensed" href="#rule4" role="button" aria-expanded="false"
            aria-controls="rule4" data-toggle="collapse">
            <div>
              <h6 class="my-0">No Show Penalty</h6>
              <small class="text-muted collapse" id="rule4">
                No Show penalty of 100% applies - Ticket will be forfeited in the event that a passenger does not show up for a flight.
              </small>
            </div>
            <span class="text-muted">
              <i class="fas fa-angle-down "></i>
            </span>
          </li>
        </ul>

      </div>
      <!--Cart End-->

      <!--Passenger Details-->
      <div class="col-md-8 order-md-1 text-left">
        <h4 class="d-flex justify-content-between align-items-center mb-3">
          <span class="text-muted">
            <i class="fas fa-address-card  mr-1 "></i>Your Details</span>
        </h4>
        <form class="needs-validation" novalidate="" id="form1">
          <div class="row ">
            <div class="col-md-6 mb-3">
              <label for="firstName">First name</label>
              <input [(ngModel)]="this.bookingInfo.passengers[0].firstName" name="firstName"  class="form-control" id="firstName" placeholder="John"  required type="text"  >
              <div class="invalid-feedback">
                Valid first name is required.
              </div>
            </div>
            <div class="col-md-6 mb-3">
              <label for="lastName">Last name</label>
              <input [(ngModel)]="bookingInfo.passengers[0].lastName" name="lastName" class="form-control" id="lastName" placeholder="Doe"  required type="text">
              <div class="invalid-feedback">
                Valid last name is required.
              </div>
            </div>
          </div>

          <div class="mb-3">
            <label for="username">ID Number</label>
            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text">ID</span>
              </div>
              <input [(ngModel)]="bookingInfo.passengers[0].id" name="id"  class="form-control" id="username" placeholder=1805250539810 required type="text" maxlength="13" minlength="13">
              <div class="invalid-feedback" style="width: 100%;">
                A valid ID number is required
              </div>
            </div>
          </div>

          <div class="mb-3">
            <label for="email">Email Address</label>
            <input [(ngModel)]="bookingInfo.passengers[0].email" name="email"  class="form-control" id="email" placeholder="john.doe@example.com" type="email" required>
            <div class="invalid-feedback">
              Please enter a valid email address.
            </div>
          </div>

          <div class="mb-3">
            <label for="tel1">Mobile Number</label>
            <input [(ngModel)]="bookingInfo.passengers[0].mobile" name="mobile"  class="form-control" id="tel1" placeholder="0727770247" required type="tel" minlength="10" maxlength="10">
            <div class="invalid-feedback">
              Please enter a valid cellphone number.
            </div>
          </div>
          <div *ngIf="numPassengers>1">
          <!--more passengers-->
          <hr class="mb-4" >
          
          <h4 class="d-flex justify-content-between align-items-center mb-3">
            <span class="text-muted">
              <i class="fas fa-address-card  mr-1 "></i>Other Passenger Details</span>
            <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-toggle="collapse" href="#multiCollapseExample1"
              role="button" aria-expanded="false" aria-controls="multiCollapseExample1" style="display: inline;float: right;">
              Other Passengers Details
            </button>
          </h4>

          <div class="container collapse " id="multiCollapseExample1">
            <!--Other passenger-->
            <div *ngFor="let passenger of passengers; let i=index">
            <div class="card-body m-0 p-1" *ngIf="i>=1" >
              <p>Passenger {{i+1}} </p>
              <div class="row">
                <div class="col-md-6 ">
                  <label for="p1">First Name</label>
                  <input [(ngModel)]="bookingInfo.passengers[i].firstName" name="firstName" class="form-control" id="p1" placeholder="John" value="" required type="text">
                  <div class="invalid-feedback">
                    Valid Full name is required.
                  </div>
                </div>
                <div class="col-md-6 ">
                  <label for="p1">Last Name</label>
                  <input [(ngModel)]="bookingInfo.passengers[i].lastName" name="lastName" class="form-control" id="p1" placeholder="Doe" value="" required type="text">
                  <div class="invalid-feedback">
                    Valid Full name is required.
                  </div>
                </div>
                <div class="col-md-6 ">
                  <label for="username">ID Number or Birth certificate number (under age of 16)</label>
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <span class="input-group-text">ID</span>
                    </div>
                    <input [(ngModel)]="bookingInfo.passengers[i].id" name="id" class="form-control" id="username" placeholder=1805250539810 required  type="text" maxlength="13" minlength="13">
                    <div class="invalid-feedback" style="width: 100%;">
                      A valid ID number is required
                    </div>
                  </div>
                </div>
              </div>
              <hr>
            </div>
            </div>
            <!--end other passenger-->
            
          </div>
          
          <hr class="mb-4">
        </div>

          <hr class="mb-4">
          <h4 class="d-flex justify-content-between align-items-center mb-3">
              <span class="text-muted">
                <i class="fas fa-tasks  mr-1 "></i>Terms and Conditions</span>                
            </h4>
            <div class="custom-control custom-checkbox" >              
                <input class="form-control custom-control-input" id="terms" type="checkbox" required>
                <label class="custom-control-label" for="terms">I have read and agree to terms and conditions</label>
                <div class="invalid-feedback" style="width: 100%;">
                    You must agree to terms and conditions before being able to continue.
                  </div>
              </div>
              <div class="alert alert-danger hide" role="alert" id="alert1">
                You have not accepted the terms and conditions
              </div>

        </form>
      </div>
    </div>
    <!--Passenger end-->
  </div>
</div>
<!--Next and back buttons-->
<div class="card my-2" style="float: right;display:inline-block;background-color: transparent;border:none">
  <button class="btn btn-lg btn-secondary mx-2" routerLink="/book/flights">
    <i class="fa fa-chevron-left"></i>&nbsp;&nbsp; Back
  </button>
  <button class="btn btn-lg btn-success" (click)="savePassengerDetails()" >
    Next&nbsp;&nbsp;
    <i class="fa fa-chevron-right"></i>
  </button>
</div>